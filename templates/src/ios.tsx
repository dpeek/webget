import "./ios.css";

function CellularIcon() {
  return (
    <svg
      width="18"
      height="11"
      viewBox="0 0 18 11"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        fill="currentColor"
        d="M16.6602 0H15.6602C15.1079 0 14.6602 0.447715 14.6602 1V9.66667C14.6602 10.219 15.1079 10.6667 15.6602 10.6667H16.6602C17.2124 10.6667 17.6602 10.219 17.6602 9.66667V1C17.6602 0.447715 17.2124 0 16.6602 0ZM10.9935 2.33333H11.9935C12.5458 2.33333 12.9935 2.78105 12.9935 3.33333V9.66667C12.9935 10.219 12.5458 10.6667 11.9935 10.6667H10.9935C10.4412 10.6667 9.99349 10.219 9.99349 9.66667V3.33333C9.99349 2.78105 10.4412 2.33333 10.9935 2.33333ZM7.32682 4.66667H6.32682C5.77454 4.66667 5.32682 5.11438 5.32682 5.66667V9.66667C5.32682 10.219 5.77454 10.6667 6.32682 10.6667H7.32682C7.87911 10.6667 8.32682 10.219 8.32682 9.66667V5.66667C8.32682 5.11438 7.87911 4.66667 7.32682 4.66667ZM2.66016 6.66667H1.66016C1.10787 6.66667 0.660156 7.11438 0.660156 7.66667V9.66667C0.660156 10.219 1.10787 10.6667 1.66016 10.6667H2.66016C3.21244 10.6667 3.66016 10.219 3.66016 9.66667V7.66667C3.66016 7.11438 3.21244 6.66667 2.66016 6.66667Z"
      />
    </svg>
  );
}

function WifiIcon() {
  return (
    <svg
      width="16"
      height="12"
      viewBox="0 0 16 12"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        fill="currentColor"
        d="M7.63661 2.93748C9.8525 2.93758 11.9837 3.78902 13.5896 5.31582C13.7105 5.43369 13.9038 5.4322 14.0229 5.31248L15.1789 4.14582C15.2392 4.08509 15.2729 4.00284 15.2724 3.91726C15.2719 3.83168 15.2373 3.74983 15.1763 3.68982C10.9612 -0.349731 4.31137 -0.349731 0.0962725 3.68982C0.0352139 3.74978 0.00057 3.83161 6.97078e-06 3.91719C-0.000556058 4.00277 0.0330082 4.08505 0.0932725 4.14582L1.24961 5.31248C1.36863 5.43238 1.56208 5.43387 1.68294 5.31582C3.28909 3.78892 5.4205 2.93748 7.63661 2.93748ZM7.63661 6.73315C8.8541 6.73308 10.0281 7.18561 10.9306 8.00282C11.0527 8.1188 11.245 8.11628 11.3639 7.99715L12.5186 6.83048C12.5794 6.76929 12.6132 6.68627 12.6123 6.60001C12.6114 6.51374 12.576 6.43143 12.5139 6.37148C9.76574 3.8151 5.5098 3.8151 2.76161 6.37148C2.69953 6.43143 2.66411 6.51378 2.6633 6.60008C2.66248 6.68637 2.69634 6.76938 2.75727 6.83048L3.91161 7.99715C4.03059 8.11628 4.22288 8.1188 4.34494 8.00282C5.24681 7.18615 6.41992 6.73365 7.63661 6.73315ZM9.9496 9.28697C9.95137 9.37348 9.91736 9.45688 9.85561 9.51748L7.85827 11.5332C7.79972 11.5924 7.7199 11.6257 7.63661 11.6257C7.55332 11.6257 7.47349 11.5924 7.41494 11.5332L5.41727 9.51748C5.35556 9.45683 5.32161 9.3734 5.32344 9.2869C5.32527 9.20039 5.36272 9.11847 5.42694 9.06048C6.70251 7.9816 8.5707 7.9816 9.84627 9.06048C9.91045 9.11852 9.94783 9.20046 9.9496 9.28697Z"
      />
    </svg>
  );
}

function BatteryIcon() {
  return (
    <svg
      width="24"
      height="12"
      viewBox="0 0 24 12"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        stroke="currentColor"
        strokeOpacity="0.4"
        fillOpacity="0"
        d="M1.16016 3.99992C1.16016 2.43695 2.42719 1.16992 3.99016 1.16992H17.9932C19.5561 1.16992 20.8232 2.43696 20.8232 3.99992V8.67326C20.8232 10.2362 19.5561 11.5033 17.9932 11.5033H3.99015C2.42719 11.5033 1.16016 10.2362 1.16016 8.67325V3.99992Z"
      />
      <path
        fill="currentColor"
        fillOpacity="0.4"
        d="M22.3301 4.33643V8.33643C23.1348 7.99765 23.6581 7.20956 23.6581 6.33643C23.6581 5.46329 23.1348 4.6752 22.3301 4.33643Z"
      />
      <rect
        fill="currentColor"
        x="2.66016"
        y="2.66992"
        width="16.66"
        height="7.33333"
        rx="1.33333"
      />
    </svg>
  );
}

function FontIcon() {
  return (
    <svg
      width="24"
      height="24"
      viewBox="0 0 24 24"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        fill="currentColor"
        d="M12.0659 17.4089C12.4468 17.4089 12.6445 17.2625 12.7837 16.8523L13.7285 14.2668H18.0498L18.9946 16.8523C19.1338 17.2625 19.3242 17.4089 19.7051 17.4089C20.0933 17.4089 20.3423 17.1746 20.3423 16.8083C20.3423 16.6838 20.3203 16.5667 20.2617 16.4128L16.8267 7.26489C16.6582 6.81812 16.3579 6.59106 15.8892 6.59106C15.4351 6.59106 15.1274 6.81079 14.9663 7.25757L11.5312 16.4202C11.4727 16.574 11.4507 16.6912 11.4507 16.8157C11.4507 17.1819 11.6851 17.4089 12.0659 17.4089ZM14.0874 13.1536L15.8672 8.22437H15.9038L17.6836 13.1536H14.0874ZM4.26562 17.387C4.56592 17.387 4.76367 17.2332 4.88086 16.8743L5.48877 15.0798H8.35254L8.96045 16.8743C9.07764 17.2478 9.27539 17.387 9.58301 17.387C9.94922 17.387 10.1982 17.1599 10.1982 16.8303C10.1982 16.6838 10.1616 16.5447 10.103 16.3909L7.8252 10.3411C7.65674 9.89429 7.34912 9.65991 6.91699 9.65991C6.49219 9.65991 6.18457 9.87964 6.01611 10.3411L3.73828 16.3909C3.67969 16.53 3.65771 16.6765 3.65771 16.8303C3.65771 17.1672 3.89209 17.387 4.26562 17.387ZM5.81104 14.1277L6.83643 11.0735H7.00488L8.03027 14.1277H5.81104Z"
      />
    </svg>
  );
}

function RefreshIcon() {
  return (
    <svg
      width="24"
      height="24"
      viewBox="0 0 24 24"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M4.5 13.69C4.5 18.023 7.84465 21.5 12.0042 21.5C16.1638 21.5 19.5 18.023 19.5 13.69C19.5 13.2664 19.2114 12.9575 18.7954 12.9575C18.3964 12.9575 18.1333 13.2664 18.1333 13.69C18.1333 17.2376 15.4083 20.0792 12.0042 20.0792C8.60017 20.0792 5.86672 17.2376 5.86672 13.69C5.86672 10.1512 8.60017 7.31839 12.0042 7.31839C12.6494 7.31839 13.2521 7.37134 13.753 7.49489L11.2148 10.1071C11.0874 10.2483 11.0195 10.4248 11.0195 10.6101C11.0195 11.016 11.3081 11.3161 11.6902 11.3161C11.9024 11.3161 12.0637 11.2455 12.1825 11.1131L15.68 7.45959C15.8328 7.30957 15.8922 7.13307 15.8922 6.9301C15.8922 6.73595 15.8158 6.5418 15.68 6.4006L12.1825 2.7118C12.0637 2.5706 11.8939 2.5 11.6902 2.5C11.3081 2.5 11.0195 2.8177 11.0195 3.22364C11.0195 3.40896 11.0874 3.58546 11.2063 3.72666L13.4643 6.04761C13.0229 5.95936 12.5221 5.89758 12.0042 5.89758C7.84465 5.89758 4.5 9.36577 4.5 13.69Z"
        fill="currentColor"
      />
    </svg>
  );
}

function LockIcon() {
  return (
    <svg
      width="10"
      height="14"
      viewBox="0 0 10 14"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M1.79341 13.5H8.20659C9.0756 13.5 9.5 13.0736 9.5 12.1407V7.24987C9.5 6.4103 9.1497 5.97719 8.42889 5.9039V4.22476C8.42889 1.71271 6.76497 0.5 5 0.5C3.23503 0.5 1.57111 1.71271 1.57111 4.22476V5.93721C0.910928 6.03716 0.5 6.46361 0.5 7.24987V12.1407C0.5 13.0736 0.924401 13.5 1.79341 13.5ZM2.65569 4.08483C2.65569 2.41235 3.74027 1.52614 5 1.52614C6.25973 1.52614 7.34431 2.41235 7.34431 4.08483V5.89723L2.65569 5.9039V4.08483Z"
        fill="black"
        fillOpacity="0.5"
      />
    </svg>
  );
}

function BackIcon() {
  return (
    <svg
      width="59"
      height="40"
      viewBox="0 0 59 40"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        fill="#007AFF"
        d="M23.1836 19.5967C23.1836 19.853 23.2759 20.0786 23.4707 20.2734L31.6021 28.2202C31.7764 28.4048 32.002 28.4971 32.2686 28.4971C32.8018 28.4971 33.2119 28.0972 33.2119 27.564C33.2119 27.2974 33.0991 27.0718 32.9351 26.8975L25.4702 19.5967L32.9351 12.2959C33.0991 12.1216 33.2119 11.8857 33.2119 11.6294C33.2119 11.0962 32.8018 10.6963 32.2686 10.6963C32.002 10.6963 31.7764 10.7886 31.6021 10.9629L23.4707 18.9199C23.2759 19.1045 23.1836 19.3403 23.1836 19.5967Z"
      />
    </svg>
  );
}

function NextIcon() {
  return (
    <svg
      width="59"
      height="40"
      viewBox="0 0 59 40"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        fill="currentColor"
        fillOpacity="0.3"
        d="M35.8267 19.5967C35.8267 19.3403 35.7241 19.1045 35.5293 18.9199L27.4082 10.9629C27.2236 10.7886 26.998 10.6963 26.7314 10.6963C26.2085 10.6963 25.7983 11.0962 25.7983 11.6294C25.7983 11.8857 25.9009 12.1216 26.0649 12.2959L33.5298 19.5967L26.0649 26.8975C25.9009 27.0718 25.7983 27.2974 25.7983 27.564C25.7983 28.0972 26.2085 28.4971 26.7314 28.4971C26.998 28.4971 27.2236 28.4048 27.4082 28.2202L35.5293 20.2734C35.7241 20.0786 35.8267 19.853 35.8267 19.5967Z"
      />
    </svg>
  );
}

function ShareIcon() {
  return (
    <svg
      width="59"
      height="40"
      viewBox="0 0 59 40"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        fill="#007AFF"
        d="M29.4897 22.3857C29.9307 22.3857 30.3101 22.0166 30.3101 21.5859V11.0552L30.2485 9.51709L30.9355 10.2451L32.4941 11.9062C32.6377 12.0703 32.8428 12.1523 33.0479 12.1523C33.4683 12.1523 33.7964 11.8447 33.7964 11.4243C33.7964 11.209 33.7041 11.0449 33.5503 10.8911L30.0845 7.54834C29.8794 7.34326 29.7051 7.27148 29.4897 7.27148C29.2847 7.27148 29.1104 7.34326 28.895 7.54834L25.4292 10.8911C25.2754 11.0449 25.1934 11.209 25.1934 11.4243C25.1934 11.8447 25.501 12.1523 25.9316 12.1523C26.1265 12.1523 26.3521 12.0703 26.4956 11.9062L28.0439 10.2451L28.7412 9.51709L28.6797 11.0552V21.5859C28.6797 22.0166 29.0488 22.3857 29.4897 22.3857ZM23.6143 30.4146H35.3755C37.5186 30.4146 38.5952 29.3481 38.5952 27.2358V17.0024C38.5952 14.8901 37.5186 13.8237 35.3755 13.8237H32.5146V15.4746H35.3447C36.3599 15.4746 36.9443 16.0283 36.9443 17.0947V27.1436C36.9443 28.21 36.3599 28.7637 35.3447 28.7637H23.6348C22.6094 28.7637 22.0454 28.21 22.0454 27.1436V17.0947C22.0454 16.0283 22.6094 15.4746 23.6348 15.4746H26.4751V13.8237H23.6143C21.4712 13.8237 20.3945 14.8901 20.3945 17.0024V27.2358C20.3945 29.3481 21.4712 30.4146 23.6143 30.4146Z"
      />
    </svg>
  );
}

function BookmarksIcon() {
  return (
    <svg
      width="59"
      height="40"
      viewBox="0 0 59 40"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        fill="#007AFF"
        d="M18.1079 27.4102C18.1079 28.251 18.6616 28.5791 19.2666 28.5791C19.6152 28.5791 19.9126 28.374 20.3022 28.1382C21.4302 27.3691 22.8247 26.8975 24.25 26.9077C25.7266 26.918 27.1929 27.4614 28.3413 28.5688C28.7925 28.979 29.1206 29.1123 29.5 29.1123C29.8691 29.1123 30.2075 28.979 30.6484 28.5688C31.7969 27.4717 33.2632 26.918 34.75 26.9077C36.1753 26.8975 37.5596 27.3691 38.6875 28.1382C39.0771 28.374 39.3745 28.5791 39.7334 28.5791C40.3281 28.5791 40.8818 28.251 40.8818 27.4102V13.4956C40.8818 13.3213 40.8716 13.1777 40.7588 13.0034C39.8462 11.4141 37.5288 10.0708 34.709 10.0708C32.4736 10.0708 30.5356 10.9629 29.5 12.2241C28.4644 10.9629 26.5161 10.0708 24.291 10.0708C21.4609 10.0708 19.1436 11.4141 18.231 13.0034C18.1284 13.1777 18.1079 13.3213 18.1079 13.4956V27.4102ZM19.7588 26.5386V13.7314C20.5894 12.5317 22.394 11.7217 24.291 11.7217C26.2393 11.7217 27.9414 12.542 28.6694 13.793V26.7129C27.6235 25.8823 25.9932 25.2568 24.291 25.2568C22.5068 25.2568 20.8457 25.7593 19.7588 26.5386ZM30.3203 26.7129V13.793C31.0483 12.542 32.7607 11.7217 34.709 11.7217C36.5957 11.7217 38.4004 12.5317 39.231 13.7314V26.5386C38.144 25.7593 36.4829 25.2568 34.709 25.2568C32.9966 25.2568 31.3662 25.8823 30.3203 26.7129Z"
      />
    </svg>
  );
}

function TabsIcon() {
  return (
    <svg
      width="59"
      height="40"
      viewBox="0 0 59 40"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        fill="#007AFF"
        d="M21.8711 25.6055H23.6245V27.1743C23.6245 29.2866 24.6909 30.353 26.8442 30.353H37.1392C39.272 30.353 40.3486 29.2866 40.3486 27.1743V16.7974C40.3486 14.6851 39.272 13.6187 37.1392 13.6187H35.3755V12.0498C35.3755 9.9375 34.2988 8.87109 32.166 8.87109H21.8711C19.7178 8.87109 18.6514 9.9375 18.6514 12.0498V22.4268C18.6514 24.5391 19.7178 25.6055 21.8711 25.6055ZM21.8916 23.9546C20.8662 23.9546 20.3022 23.4009 20.3022 22.3345V12.1421C20.3022 11.0757 20.8662 10.522 21.8916 10.522H32.1353C33.1504 10.522 33.7246 11.0757 33.7246 12.1421V13.6187H26.8442C24.6909 13.6187 23.6245 14.6748 23.6245 16.7974V23.9546H21.8916ZM26.8647 28.7021C25.8496 28.7021 25.2754 28.1484 25.2754 27.082V16.8896C25.2754 15.8232 25.8496 15.2695 26.8647 15.2695H37.1084C38.1235 15.2695 38.6978 15.8232 38.6978 16.8896V27.082C38.6978 28.1484 38.1235 28.7021 37.1084 28.7021H26.8647Z"
      />
    </svg>
  );
}

export function Phone() {
  const { searchParams } = new URL(window.location.href);
  const time = searchParams.get("time") ?? "9:41";
  const url = new URL(searchParams.get("url") ?? "https://webget.com");
  const path = searchParams.get("path");
  const domain = url.hostname;
  const secure = searchParams.get("secure")
    ? searchParams.get("secure") === "1"
    : url.protocol === "https:";
  const background = searchParams.get("background") ?? "white";
  const device = searchParams.get("device") ?? "iPhone15Pro";

  const backgroundImage = path
    ? `url(http://localhost:3637/image?path=${path})`
    : undefined;

  const ios = device === "iPhone15Pro";

  return (
    <div id="device" className={device}>
      <div className="screen">
        {ios ? (
          <div
            className="header"
            style={{
              backgroundColor: background,
              color: background === "white" ? "black" : "white",
            }}
          >
            <div>{time}</div>
            <div className="space" />
            <CellularIcon />
            <WifiIcon />
            <BatteryIcon />
          </div>
        ) : (
          <div className="header" />
        )}
        <div className="content" style={{ backgroundImage }} />
        {ios ? (
          <div className="footer">
            <div className="search">
              <FontIcon />
              <div className="domain">
                {secure && <LockIcon />}
                <div>{domain}</div>
              </div>
              <RefreshIcon />
            </div>
            <div className="buttons">
              <BackIcon />
              <NextIcon />
              <ShareIcon />
              <BookmarksIcon />
              <TabsIcon />
            </div>
          </div>
        ) : (
          <div className="footer" />
        )}
      </div>
      <div className="bezel" />
    </div>
  );

  return (
    <div
      className={`device ${device}`}
      style={{
        backgroundImage: `url(http://localhost:3637/image?path=${bezel})`,
      }}
    >
      <div className="viewport">
        <div className="swiper" />
      </div>
      <div className="bezel" />
    </div>
  );
}
